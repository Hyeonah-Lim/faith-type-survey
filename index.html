<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>FATI ì‹ ì•™ìœ í˜•ê²€ì‚¬ - Faith Attitude Type Indicator</title>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <style>
        /* ëª¨ë“  ìš”ì†Œì— ëŒ€í•œ ê¸°ë³¸ ìŠ¤íƒ€ì¼ ì´ˆê¸°í™” */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }
        
        :root {
            --primary: #5B72EE;
            --primary-dark: #4A5FDB;
            --secondary: #FF6B9D;
            --background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --text-dark: #2c3e50;
            --text-light: #495057;
            --gray-light: #f8f9fa;
            --gray-medium: #e9ecef;
            --circle-size: 50px; /* ëª¨ë“  ì›ì˜ í¬ê¸° ë™ì¼ */

            /* ìƒˆë¡œ ì¶”ê°€ëœ ìƒ‰ìƒ ë³€ìˆ˜ */
            --color-blue: #667eea;
            --color-purple: #764ba2;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: var(--background);
            min-height: 100vh;
            min-height: -webkit-fill-available;
            overflow-x: hidden;
            color: var(--text-dark);
        }
        
        .container {
            min-height: 100vh;
            min-height: -webkit-fill-available;
            display: flex;
            flex-direction: column;
        }
        
        .start-screen, .test-screen, .result-screen {
            display: none;
        }

        .start-screen {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
            text-align: center;
            color: white;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .catchphrase { font-size: 16px; opacity: 0.95; margin-bottom: 20px; font-style: italic; letter-spacing: 0.5px; }
        .logo { font-size: 80px; margin-bottom: 30px; animation: pulse 2s ease-in-out infinite; }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        .start-screen h1 { font-size: 36px; font-weight: 700; margin-bottom: 10px; }
        .start-screen .english-title { font-size: 18px; opacity: 0.9; margin-bottom: 25px; font-style: italic; }
        
        .fati-explanation { background: rgba(255,255,255,0.15); backdrop-filter: blur(10px); border-radius: 20px; padding: 25px; margin-bottom: 30px; text-align: left; max-width: 400px; }
        .fati-explanation h3 { font-size: 20px; margin-bottom: 15px; text-align: center; }
        .fati-explanation .fati-item { margin: 10px 0; font-size: 14px; line-height: 1.5; }
        .fati-explanation .fati-item strong { color: #FFE66D; font-weight: 600; }
        
        .start-btn { background: white; color: var(--primary); border: none; padding: 18px 60px; border-radius: 30px; font-size: 18px; font-weight: 600; cursor: pointer; transition: all 0.3s; box-shadow: 0 10px 30px rgba(0,0,0,0.2); }
        .start-btn:hover { transform: translateY(-2px); box-shadow: 0 15px 40px rgba(0,0,0,0.3); }
        .start-btn:active { transform: scale(0.95); }
        
        /* ê²€ì‚¬ í™”ë©´ ìŠ¤íƒ€ì¼ */
        .test-screen {
            background: white;
            min-height: 100vh;
            animation: slideIn 0.3s ease;
        }
        
        @keyframes slideIn {
            from { transform: translateX(100%); }
            to { transform: translateX(0); }
        }
        
        .header { background: var(--background); padding: 20px; padding-top: calc(20px + env(safe-area-inset-top)); color: white; position: sticky; top: 0; z-index: 100; box-shadow: 0 2px 10px rgba(0,0,0,0.1); text-align: center; }
        .progress-container { background: rgba(255,255,255,0.2); height: 6px; border-radius: 3px; overflow: hidden; margin-top: 10px; max-width: 400px; margin-left: auto; margin-right: auto; }
        .progress-bar { height: 100%; background: white; border-radius: 3px; transition: width 0.5s ease; box-shadow: 0 0 10px rgba(255,255,255,0.5); }
        
        .question-container {
            padding: 30px 20px;
            padding-bottom: 120px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: calc(100vh - 180px);
            text-align: center;
        }
        
        .question-number { color: var(--primary); font-weight: 600; font-size: 14px; margin-bottom: 15px; }
        .question-text { font-size: 22px; font-weight: 600; line-height: 1.5; margin-bottom: 30px; color: var(--text-dark); text-align: center; max-width: 90%; }
        
        .options-scale {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 10px;
            flex-wrap: nowrap;
            padding: 0 10px;
            max-width: 600px;
            margin: 0 auto;
            width: 100%;
        }

        .options-scale .option-text-wrapper {
            flex-basis: 30%;
            flex-shrink: 1;
            text-align: center;
            font-size: 14px;
            color: var(--text-light);
            line-height: 1.4;
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: var(--circle-size);
        }

        .options-scale .circle-wrapper {
            display: flex;
            align-items: center;
            justify-content: center;
            flex-grow: 1;
            gap: 10px;
        }

        .options-scale .option-circle-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            flex-basis: 0;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s;
            padding: 5px;
        }

        .options-scale .option-circle {
            border-radius: 50%;
            background: var(--gray-light);
            border: 2px solid var(--gray-medium);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            transition: all 0.2s;
            width: var(--circle-size);
            height: var(--circle-size);
        }

        /* ì„ íƒëœ ì˜µì…˜ ìŠ¤íƒ€ì¼ (ìƒ‰ìƒ ë³€ê²½) */
        .options-scale input[type="radio"]:checked + .option-circle-container .option-circle {
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            border-color: transparent;
        }

        /* ì™¼ìª½ ë‘ ê°œ ì„ íƒ ì‹œ ìƒ‰ìƒ */
        .options-scale input[type="radio"].left-option:checked + .option-circle-container .option-circle {
            background: var(--color-blue);
        }
        /* ì˜¤ë¥¸ìª½ ë‘ ê°œ ì„ íƒ ì‹œ ìƒ‰ìƒ */
        .options-scale input[type="radio"].right-option:checked + .option-circle-container .option-circle {
            background: var(--color-purple);
        }
        
        .options-scale input[type="radio"] { display: none; }
        
        .navigation { position: fixed; bottom: 0; left: 0; right: 0; background: white; padding: 15px 20px; padding-bottom: calc(15px + env(safe-area-inset-bottom)); box-shadow: 0 -2px 15px rgba(0,0,0,0.1); display: flex; gap: 12px; z-index: 100; }
        .nav-btn { flex: 1; padding: 16px; border: none; border-radius: 12px; font-size: 16px; font-weight: 600; cursor: pointer; transition: all 0.2s; }
        .nav-btn.prev { background: var(--gray-medium); color: var(--text-light); }
        .nav-btn.next { background: linear-gradient(135deg, #667eea, #764ba2); color: white; }
        .nav-btn:disabled { opacity: 0.4; cursor: not-allowed; }
        .nav-btn:active:not(:disabled) { transform: scale(0.95); }
        
        /* ê²°ê³¼ í™”ë©´ ìŠ¤íƒ€ì¼ */
        .result-screen { display: none; background: white; min-height: 100vh; animation: fadeIn 0.5s ease; }
        .result-header { background: var(--background); padding: 50px 20px 60px; padding-top: calc(50px + env(safe-area-inset-top)); text-align: center; color: white; position: relative; overflow: hidden; }
        .result-header::after { content: ''; position: absolute; bottom: -2px; left: 0; right: 0; height: 60px; background: white; border-radius: 30px 30px 0 0; }
        
        .type-badge { display: inline-block; background: rgba(255,255,255,0.2); padding: 8px 20px; border-radius: 20px; font-size: 14px; margin-bottom: 20px; }
        .type-code { font-size: 48px; font-weight: 800; margin: 15px 0; letter-spacing: 3px; text-shadow: 2px 2px 4px rgba(0,0,0,0.1); }
        .type-emoji { font-size: 64px; margin: 20px 0; filter: drop-shadow(2px 2px 4px rgba(0,0,0,0.2)); }
        .type-nickname { font-size: 28px; font-weight: 600; margin-bottom: 30px; position: relative; z-index: 1; }
        
        .result-content { padding: 40px 20px; position: relative; z-index: 10; }
        .card { background: var(--gray-light); border-radius: 20px; padding: 25px; margin-bottom: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.05); }
        .card h3 { color: var(--text-dark); font-size: 18px; margin-bottom: 15px; display: flex; align-items: center; gap: 8px; }
        .card p { color: var(--text-light); line-height: 1.7; font-size: 15px; }
        
        .traits { list-style: none; margin-top: 15px; }
        .traits li { padding: 12px 0; color: var(--text-light); font-size: 15px; display: flex; align-items: flex-start; gap: 10px; border-bottom: 1px solid var(--gray-medium); }
        .traits li:last-child { border-bottom: none; }
        .traits li::before { content: 'âœ¨'; flex-shrink: 0; }
        
        .score-visualization { background: white; border: 2px solid var(--gray-medium); border-radius: 20px; padding: 25px; margin: 20px 0; }
        .score-row { margin: 25px 0; }
        .score-labels { display: flex; justify-content: space-between; margin-bottom: 10px; font-size: 14px; }
        .score-label { color: var(--text-light); font-weight: 600; }
        .score-label.active { color: var(--primary); font-weight: 700; }
        .score-bar-container { position: relative; height: 12px; background: var(--gray-medium); border-radius: 6px; overflow: hidden; }
        .score-bar-center { position: absolute; left: 50%; top: 0; bottom: 0; width: 3px; background: var(--text-dark); opacity: 0.7; z-index: 1; }
        .score-fill-left { position: absolute; right: 50%; top: 0; height: 100%; background: linear-gradient(90deg, #667eea, #764ba2); border-radius: 6px 0 0 6px; transition: width 1s ease; }
        .score-fill-right { position: absolute; left: 50%; top: 0; height: 100%; background: linear-gradient(90deg, #764ba2, #667eea); border-radius: 0 6px 6px 0; transition: width 1s ease; }
        
        .actions { padding: 20px; padding-bottom: calc(30px + env(safe-area-inset-bottom)); }
        .action-btn { width: 100%; padding: 18px; border: none; border-radius: 16px; font-size: 16px; font-weight: 600; cursor: pointer; transition: all 0.2s; margin-bottom: 12px; }
        .action-btn.primary { background: linear-gradient(135deg, #667eea, #764ba2); color: white; }
        .action-btn.secondary { background: var(--gray-light); color: var(--text-light); }
        .action-btn:active { transform: scale(0.95); }
        
        .copyright { text-align: center; padding: 20px; color: var(--text-light); font-size: 12px; background: var(--gray-light); line-height: 1.6; }
        .copyright strong { color: var(--text-dark); }
        
        /* ë¡œë”© ì• ë‹ˆë©”ì´ì…˜ */
        .loading { display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); text-align: center; z-index: 1000; background: rgba(255, 255, 255, 0.8); padding: 30px; border-radius: 20px; box-shadow: 0 5px 15px rgba(0,0,0,0.2); }
        .loading-spinner { width: 50px; height: 50px; border: 3px solid var(--gray-medium); border-top-color: var(--primary); border-radius: 50%; animation: spin 1s linear infinite; }
        @keyframes spin { to { transform: rotate(360deg); } }
        
        /* ë°˜ì‘í˜• ë””ìì¸: íƒœë¸”ë¦¿ ë° ë°ìŠ¤í¬í†± */
        @media (min-width: 768px) {
            .container { max-width: 600px; margin: 0 auto; box-shadow: 0 0 50px rgba(0,0,0,0.1); }
        }

        /* ëª¨ë°”ì¼ ë°˜ì‘í˜• ë””ìì¸ (767px ì´í•˜) */
        @media (max-width: 767px) {
            .options-scale { flex-direction: column; align-items: center; gap: 15px; padding: 0 5px; }
            .options-scale .option-text-wrapper { width: 100%; flex-basis: auto; min-height: auto; text-align: center; padding: 0 10px; }
            .options-scale .circle-wrapper { width: 100%; justify-content: center; gap: 8px; }
            .options-scale .option-circle.large { width: var(--circle-size); height: var(--circle-size); }
            .options-scale .option-circle.small { width: var(--circle-size); height: var(--circle-size); }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="start-screen" id="startScreen">
            <div class="catchphrase">ë‚˜ë§Œì˜ ë…íŠ¹í•œ ì‹ ì•™ ìŠ¤íƒ€ì¼ì„ ë°œê²¬í•´ë³´ì„¸ìš”</div>
            <div class="logo">ğŸ™</div>
            <h1>FATI ì‹ ì•™ìœ í˜•ê²€ì‚¬</h1>
            <div class="english-title">Faith Attitude Type Indicator</div>
            
            <div class="fati-explanation">
                <h3>FATIë€?</h3>
                <div class="fati-item"><strong>F</strong>ellowship - ê³µë™ì²´ ì°¸ì—¬ ì„±í–¥ (R/S)</div>
                <div class="fati-item"><strong>A</strong>ffection - ì‹ ì•™ í‘œí˜„ ë°©ì‹ (E/W)</div>
                <div class="fati-item"><strong>T</strong>heology - í•˜ë‚˜ë‹˜ ì¸ì‹ ë°©ì‹ (D/P)</div>
                <div class="fati-item"><strong>I</strong>ntention - ì‹ ì•™ìƒí™œ íŒ¨í„´ (O/F)</div>
            </div>
            
            <button class="start-btn" onclick="startTest()">ì‹œì‘í•˜ê¸°</button>
            <div style="margin-top: 30px; font-size: 14px; opacity: 0.8;">
                â± ì•½ 5ë¶„ ì†Œìš” | ğŸ“ 20ë¬¸í•­
            </div>
        </div>
        
        <div class="test-screen" id="testScreen">
            <div class="header">
                <div class="progress-container">
                    <div class="progress-bar" id="progressBar"></div>
                </div>
            </div>
            
            <div class="question-container">
                <div class="question-number" id="questionNumber"></div>
                <div class="question-text" id="questionText"></div>
                <div class="options-scale" id="optionsContainer">
                    </div>
            </div>
            
            <div class="navigation">
                <button class="nav-btn prev" id="prevBtn" onclick="previousQuestion()">ì´ì „</button>
                <button class="nav-btn next" id="nextBtn" onclick="nextQuestion()" disabled>ë‹¤ìŒ</button>
            </div>
        </div>
        
        <div class="result-screen" id="resultScreen">
            <div class="result-header">
                <div class="type-badge">ë‹¹ì‹ ì˜ ì‹ ì•™ìœ í˜•</div>
                <div class="type-emoji" id="typeEmoji"></div>
                <div class="type-code" id="typeCode"></div>
                <div class="type-nickname" id="typeNickname"></div>
            </div>
            
            <div class="result-content">
                <div class="card">
                    <h3>ğŸ“– ìœ í˜• ì„¤ëª…</h3>
                    <p id="typeDescription"></p>
                </div>
                
                <div class="card">
                    <h3>âœ¨ ì£¼ìš” íŠ¹ì§•</h3>
                    <ul class="traits" id="traitsList"></ul>
                </div>
                
                <div class="score-visualization">
                    <h3 style="margin-bottom: 25px; text-align: center;">ğŸ¯ ìƒì„¸ ë¶„ì„</h3>
                    <div id="scoreDetails"></div>
                </div>
                
                <div class="card">
                    <h3>ğŸ’¡ ì„±ì¥ í¬ì¸íŠ¸</h3>
                    <p id="growthPoint"></p>
                </div>
                
                <div class="card">
                    <h3>ğŸ¤ ì˜ ë§ëŠ” ìœ í˜•</h3>
                    <p id="compatibility"></p>
                </div>
            </div>
            
            <div class="actions">
                <button class="action-btn primary" onclick="shareResult()">ğŸ“¤ ê²°ê³¼ ë§í¬ ë³µì‚¬í•˜ê¸°</button>
                <button class="action-btn secondary" onclick="downloadResultImage()">ğŸ–¼ï¸ ê²°ê³¼ ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ</button>
                <button class="action-btn secondary" onclick="restartTest()">ğŸ”„ ë‹¤ì‹œ ê²€ì‚¬í•˜ê¸°</button>
            </div>
            
            <div class="copyright">
                <strong>FATI ì‹ ì•™ìœ í˜•ê²€ì‚¬</strong><br>
                Original Idea by <strong>ë¬¸ì€ì„±, ì†¡ì€ì„œ</strong><br>
                Developed by <strong>ì„í˜„ì•„</strong><br>
                Â© 2025 All rights reserved
            </div>
        </div>
        
        <div class="loading" id="loading">
            <div class="loading-spinner"></div>
        </div>
    </div>
    
    <script>
        // ë¬¸í•­ ë°ì´í„°
        const questions = [
            // ê³µë™ì²´ ì°¸ì—¬ ì„±í–¥ (R/S) - R: ê´€ê³„ ì§€í–¥, S: ë…ë¦½ ì§€í–¥
            { category: 'ê³µë™ì²´ ì°¸ì—¬ ì„±í–¥', text: 'ğŸµ ì„±ê°€ëŒ€ ì—°ìŠµì— 10ë¶„ ëŠ¦ì€ ë‹¹ì‹ ! ëª¨ë‘ê°€ ë¨¼ì € ì™€ ìˆê³ , ë‹¹ì‹ ë§Œ ëˆˆì¹˜ ë³´ë©° ë“¤ì–´ê°„ ìƒí™©ì—ì„œâ€¦', leftText: 'ê°€ë³ê²Œ ì‚¬ê³¼í•˜ê³  ì£¼ë³€ì— ìì—°ìŠ¤ëŸ½ê²Œ ì„ì´ëŠ” í¸ì´ë‹¤.', rightText: 'ëˆ„êµ¬ë„ ë§ ì•ˆ ê±¸ì—ˆìœ¼ë©´ í•˜ê³  ê·¸ëƒ¥ ë¬µë¬µíˆ ì•‰ì•„ìˆëŠ” í¸ì´ë‹¤.', leftType: 'R', rightType: 'S' },
            { category: 'ê³µë™ì²´ ì°¸ì—¬ ì„±í–¥', text: 'ğŸ™‹ ì²­ë…„ë¶€ì— ìƒˆë¡œ ì˜¨ ì§€ì²´ê°€ í˜¼ì ì•‰ì•„ìˆë‹¤.', leftText: 'ë°˜ê°€ìš´ ë§ˆìŒìœ¼ë¡œ ë¨¼ì € ë‹¤ê°€ê°€ ë§ì„ ê±´ë„¨ë‹¤.', rightText: 'ì–´ìƒ‰í•´ì„œ ë‹¤ê°€ê°€ê¸´ ì–´ë µì§€ë§Œ ì¡°ìš©íˆ ê´€ì‹¬ì„ ê°–ê³  ê¸°íšŒê°€ ë˜ë©´ ê°œì¸ì ìœ¼ë¡œ ëŒ€í™”í•œë‹¤.', leftType: 'R', rightType: 'S' },
            { category: 'ê³µë™ì²´ ì°¸ì—¬ ì„±í–¥', text: 'ğŸ“† ìˆ˜ë ¨íšŒì— ì°¸ì„í•˜ê²Œ ëœ ë‹¹ì‹ , ê°€ì¥ ê¸°ëŒ€í•˜ëŠ” ê²ƒì€?', leftText: 'ë§ì€ ì‚¬ëŒë“¤ê³¼ í•¨ê»˜ ëœ¨ê±°ìš´ ì˜ˆë°°ë¥¼ ë“œë¦¬ëŠ” ê²ƒ', rightText: 'í˜¼ìë§Œì˜ ì‹œê°„ì— ëœ¨ê²ê²Œ ê¸°ë„í•˜ëŠ” ê²ƒ', leftType: 'R', rightType: 'S' },
            { category: 'ê³µë™ì²´ ì°¸ì—¬ ì„±í–¥', text: 'ğŸ§  ì‹ ì•™ì ì¸ ê³ ë¯¼ì´ ê¹Šì–´ì§„ ì‹œê¸°, ë‹¹ì‹ ì€?', leftText: 'ì‹ ì•™ ì¹œêµ¬ë“¤ê³¼ ë‚˜ëˆ„ë©° í•¨ê»˜ ê¸°ë„í•œë‹¤.', rightText: 'í˜¼ì í•˜ë‚˜ë‹˜ê»˜ ê¸°ë„í•˜ë©° ë‹µì„ êµ¬í•œë‹¤.', leftType: 'R', rightType: 'S' },
            { category: 'ê³µë™ì²´ ì°¸ì—¬ ì„±í–¥', text: 'â“ êµíšŒ ì¬ì •ì´ë‚˜ í—Œê¸ˆì— ëŒ€í•´ ë‚´ ë§ˆìŒì€?', leftText: 'ê³µë™ì²´ê°€ í•¨ê»˜ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ë¼ ê¸°êº¼ì´ ë‚˜ëˆ„ê³  ì‹¶ì€ ë§ˆìŒì´ë‹¤.', rightText: 'ì¡°ìš©íˆ í•˜ë‚˜ë‹˜ ì•ì—ì„œ ê²°ì •í•˜ê³  í—Œê¸ˆì€ ê°œì¸ì ì¸ í—Œì‹ ì´ë¼ê³  ìƒê°í•œë‹¤.', leftType: 'R', rightType: 'S' },
            // ì‹ ì•™ í‘œí˜„ë°©ì‹ (E/W) - E: ê°ì •/ê²½í—˜ ì§€í–¥, W: ì´ì„±/ì›ë¦¬ ì§€í–¥
            { category: 'ì‹ ì•™ í‘œí˜„ë°©ì‹', text: 'ğŸ¤ ì¸ì›Œì‹­ì— ì°¸ì„í•œ ë‹¹ì‹ , ì–´ë–¤ ìŠ¤íƒ€ì¼ì¸ê°€ìš”?', leftText: 'ëª¸ìœ¼ë¡œ í‘œí˜„í•˜ë©° ê°ì •ì´ ìš°ëŸ¬ë‚˜ëŠ” ì°¬ì–‘ì„ ì¢‹ì•„í•œë‹¤', rightText: 'ê°€ì‚¬ì˜ ì˜ë¯¸ë¥¼ ìƒê°í•˜ë©° ì¡°ìš©íˆ ë§ˆìŒìœ¼ë¡œ ë¶€ë¥¸ë‹¤', leftType: 'E', rightType: 'W' },
            { category: 'ì‹ ì•™ í‘œí˜„ë°©ì‹', text: 'ğŸ“– ë§ì”€ ë“£ëŠ” ì¤‘, ë‹¹ì‹ ì˜ ìì„¸ëŠ”?', leftText: 'ë§ì”€ì„ í†µí•´ ë°›ì€ ê°ë™ê³¼ ëŠë‚Œì„ ì¤‘ì‹¬ìœ¼ë¡œ ì •ë¦¬í•œë‹¤.', rightText: 'ë…¼ë¦¬ì  íë¦„ê³¼ ë‹¨ì–´ì˜ ëœ»ì„ êµ¬ì¡°ì ìœ¼ë¡œ ì •ë¦¬í•œë‹¤.', leftType: 'E', rightType: 'W' },
            { category: 'ì‹ ì•™ í‘œí˜„ë°©ì‹', text: 'ğŸ™ ê¸°ë„ì‘ë‹µì„ ê²½í—˜í–ˆì„ ë•Œ', leftText: 'í•˜ë‚˜ë‹˜ì´ ì‚´ì•„ê³„ì‹¬ì„ ëŠê¼ˆë‹¤ëŠ” ì²´í—˜ì— ì§‘ì¤‘í•œë‹¤.', rightText: 'í•˜ë‚˜ë‹˜ì˜ ëœ»ì´ ë¬´ì—‡ì¸ì§€ ê¹¨ë‹¬ì€ ê²ƒì— ì§‘ì¤‘í•œë‹¤.', leftType: 'E', rightType: 'W' },
            { category: 'ì‹ ì•™ í‘œí˜„ë°©ì‹', text: 'ğŸ’¬ ìˆ˜ë ¨íšŒ ì´í›„, ëª©ì¥ ì‚¬ëŒë“¤ê³¼ í•¨ê»˜ ê°„ì¦ ë‚˜ëˆ”ì„ í•˜ê²Œ ëœ ë‹¹ì‹ ', leftText: 'í•˜ë‚˜ë‹˜ì„ ê²½í—˜í•œ ìˆœê°„ì˜ ê°ì •ê³¼ ëŠë‚Œì„ ìì„¸íˆ ë‚˜ëˆˆë‹¤', rightText: 'í•˜ë‚˜ë‹˜ì´ ì–´ë–¤ ë°©ë²•ìœ¼ë¡œ ì—­ì‚¬í•˜ì…¨ëŠ”ì§€ ì‚¬ì‹¤ ì¤‘ì‹¬ìœ¼ë¡œ ë‚˜ëˆˆë‹¤', leftType: 'E', rightType: 'W' },
            { category: 'ì‹ ì•™ í‘œí˜„ë°©ì‹', text: 'ğŸ’° ì¬ì •ì´ë‚˜ ì‹œê°„ì˜ ìš°ì„ ìˆœìœ„ë¥¼ ì •í•  ë•Œ ê¸°ì¤€ì€?', leftText: 'ë§ˆìŒì†ì—ì„œ í•˜ë‚˜ë‹˜ì´ ì£¼ì‹  ê°ë™ì´ë‚˜ íë¦„ì„ ë”°ë¥¸ë‹¤.', rightText: 'ë§ì”€ì„ í†µí•´ ë°°ìš°ê³  ì ìš©í•œ ì›ì¹™ì„ ì¤‘ì‹¬ìœ¼ë¡œ íŒë‹¨í•œë‹¤.', leftType: 'E', rightType: 'W' },
            // í•˜ë‚˜ë‹˜ ì¸ì‹ë°©ì‹ (D/P) - D: ê´€ê³„/ì¹œë°€í•¨ ì§€í–¥, P: ê¶Œìœ„/ì£¼ê¶Œ ì§€í–¥
            { category: 'í•˜ë‚˜ë‹˜ ì¸ì‹ë°©ì‹', text: 'ğŸ“– ì„±ê²½ì„ ì½ì„ ë•Œ ê°€ì¥ ë¨¼ì € ë“œëŠ” ê°ì •ì€?', leftText: 'í•˜ë‚˜ë‹˜ì´ ë‚´ê²Œ ë§ ê±¸ì–´ ì£¼ì‹œëŠ” ë“¯í•œ ì¹œë°€ê°ì„ ëŠë¼ëŠ” í¸ì´ë‹¤', rightText: 'í•˜ë‚˜ë‹˜ì˜ ëª…ë ¹ê³¼ ê¸°ì¤€ì´ ë¬´ì—‡ì¸ì§€ ì°¾ëŠ” í¸ì´ë‹¤', leftType: 'D', rightType: 'P' },
            { category: 'í•˜ë‚˜ë‹˜ ì¸ì‹ë°©ì‹', text: 'ğŸ™ ê¸°ë„í•  ë•Œ, ë‹¹ì‹ ì€ í•˜ë‚˜ë‹˜ì„ ì–´ë–»ê²Œ ê·¸ë¦¬ëŠ”ê°€?', leftText: 'ë‚´ê°€ í˜ë“¤ ë•Œ ì•ˆì•„ ì£¼ì‹œëŠ” ë”°ëœ»í•œ ë¶„', rightText: 'ë‚´ ì‚¶ì„ íŒë‹¨í•˜ê³  ì´ë„ì‹œëŠ” ê¸°ì¤€ì´ì ì£¼ê¶Œì', leftType: 'D', rightType: 'P' },
            { category: 'í•˜ë‚˜ë‹˜ ì¸ì‹ë°©ì‹', text: 'ğŸ§­ ë¯¿ìŒì˜ ê²°ì •ì„ ë‚´ë ¤ì•¼ í•  ë•Œ, ë‹¹ì‹ ì€?', leftText: 'ë§ˆìŒì— í‰ì•ˆì´ ìˆëŠ”ì§€ë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ ë¶„ë³„í•œë‹¤.', rightText: 'ë§ì”€ì˜ ê¸°ì¤€ì— ë§ëŠ”ì§€ë¥¼ ë”°ì ¸ë³¸ë‹¤.', leftType: 'D', rightType: 'P' },
            { category: 'í•˜ë‚˜ë‹˜ ì¸ì‹ë°©ì‹', text: 'âœï¸ ì‹ ì•™ìƒí™œì˜ ì£¼ëœ ë™ê¸°ëŠ”', leftText: 'í•˜ë‚˜ë‹˜ê³¼ì˜ ë” ê¹Šì€ ì‚¬ë‘ì˜ ê´€ê³„ë¥¼ ìœ„í•´', rightText: 'í•˜ë‚˜ë‹˜ì´ ê¸°ë»í•˜ì‹œëŠ” ì˜¬ë°”ë¥¸ ì‚¶ì„ ì‚´ê¸° ìœ„í•´', leftType: 'D', rightType: 'P' },
            { category: 'í•˜ë‚˜ë‹˜ ì¸ì‹ë°©ì‹', text: 'ğŸ™Œ í•˜ë‚˜ë‹˜ê»˜ í—Œì‹ ì„ ê²°ë‹¨í•  ë•Œ, ì–´ë–¤ ë§ˆìŒì´ ì•ì„œëŠ”ê°€?', leftText: 'í•˜ë‚˜ë‹˜ê»˜ ì‚¬ë‘ë°›ê³  ìˆë‹¤ëŠ” ê°ê²©ì´ í—Œì‹ ì˜ ì›ë™ë ¥ì´ë‹¤.', rightText: 'í•˜ë‚˜ë‹˜ì˜ ëœ»ì— ìˆœì¢…í•˜ëŠ” ê²ƒì´ ë‹¹ì—°í•˜ë‹¤ëŠ” ì±…ì„ê°ì´ ì•ì„ ë‹¤.', leftType: 'D', rightType: 'P' },
            // ì‹ ì•™ìƒí™œ íŒ¨í„´ (O/F) - O: ì¡°ì§/ê³„íš ì§€í–¥, F: ìœ ì—°/ììœ  ì§€í–¥
            { category: 'ì‹ ì•™ìƒí™œ íŒ¨í„´', text: 'ğŸ“† ìˆ˜ë ¨íšŒ ì „ë‚  ë°¤, ë‹¹ì‹ ì€?', leftText: 'ì§, ì¼ì •, ë§ì”€ ë‹¤ ì •ë¦¬í•˜ê³  ê¸°ë„ê¹Œì§€ ë§ˆì¹œ ìƒíƒœë‹¤.', rightText: 'ë§ˆìŒ ê°€ëŠ” ëŒ€ë¡œ ë‚´ì¼ ì•„ì¹¨ì— ì§ ì‹¸ë„ ê´œì°®ë‹¤.', leftType: 'O', rightType: 'F' },
            { category: 'ì‹ ì•™ìƒí™œ íŒ¨í„´', text: 'ğŸ“– ì„±ê²½ ì½ê¸°ë¥¼ ì‹œì‘í•˜ë ¤ëŠ” ë‹¹ì‹ .', leftText: 'ê³„íší‘œë¥¼ ì„¸ì›Œ í•˜ë£¨ ë¶„ëŸ‰ì„ ì§€í‚¤ë ¤ê³  ë…¸ë ¥í•˜ëŠ” í¸ì´ë‹¤.', rightText: 'ë§ˆìŒì— ëŒë¦¬ëŠ” ë³¸ë¬¸ ìœ„ì£¼ë¡œ ììœ ë¡­ê²Œ ì½ëŠ” í¸ì´ë‹¤.', leftType: 'O', rightType: 'F' },
            { category: 'ì‹ ì•™ìƒí™œ íŒ¨í„´', text: 'ğŸ“ ê¸°ë„ì œëª©ì„ ê¸°ë¡í•˜ëŠ” ë°©ì‹ì€?', leftText: 'ë‚ ì§œë³„ë¡œ ì •ë¦¬ëœ ë…¸íŠ¸ë‚˜ ì•±ì„ ì‚¬ìš©í•˜ëŠ” í¸ì´ë‹¤.', rightText: 'ë– ì˜¤ë¥¼ ë•Œ ê°„ë‹¨íˆ ë©”ëª¨í•˜ëŠ” í¸ì´ë‹¤.', leftType: 'O', rightType: 'F' },
            { category: 'ì‹ ì•™ìƒí™œ íŒ¨í„´', text: 'ì‹ ì•™ìƒí™œì„ ì‹¤ì²œí•˜ëŠ” ë‚˜ë§Œì˜ ë°©ì‹ì€?', leftText: 'ì‹ ì•™ìƒí™œì€ ê³„íšì ìœ¼ë¡œ ì‹¤ì²œí•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤ê³  ìƒê°í•œë‹¤.', rightText: 'ì‹ ì•™ìƒí™œì€ íë¦„ì— ë”°ë¼ ìì—°ìŠ¤ëŸ½ê²Œ ì´ì–´ì§€ëŠ” ê²ƒì´ ë” ì˜ë¯¸ ìˆë‹¤ê³  ìƒê°í•œë‹¤.', leftType: 'O', rightType: 'F' },
            { category: 'ì‹ ì•™ìƒí™œ íŒ¨í„´', text: 'ğŸ í—Œê¸ˆì´ë‚˜ ë´‰ì‚¬ë¥¼ í•  ë•Œì˜ ë‚˜ëŠ”?', leftText: 'ë¯¸ë¦¬ ê³„íší•˜ê³  ì •í•´ë‘” ë°©ì‹ëŒ€ë¡œ ì •ê¸°ì ìœ¼ë¡œ ì‹¤ì²œí•œë‹¤.', rightText: 'ë§ˆìŒì´ ê°ë™ë˜ì—ˆì„ ë•Œ ìë°œì ìœ¼ë¡œ ë“œë¦¬ê³  ì°¸ì—¬í•˜ëŠ” í¸ì´ë‹¤.', leftType: 'O', rightType: 'F' }
        ];

        // ê° ìœ í˜•ë³„ ê²°ê³¼ ì„¤ëª…
        const resultTypes = {
            'REDO': { emoji: 'ğŸ’–', nickname: 'ì‚¬ë‘ ë„˜ì¹˜ëŠ” ê³µë™ì²´ ë¦¬ë”', description: '...', traits: ['...', '...'], growth: '...', compatibility: '...' },
            'REDF': { emoji: 'ğŸŒŠ', nickname: 'ììœ ë¡œìš´ ì‚¬ë‘ì˜ íŒŒë„', description: '...', traits: ['...', '...'], growth: '...', compatibility: '...' },
            'REPO': { emoji: 'ğŸŒˆ', nickname: 'ê°ê²©ì˜ ë¬´ì§€ê°œ', description: '...', traits: ['...', '...'], growth: '...', compatibility: '...' },
            'REPF': { emoji: 'ğŸ†', nickname: 'ì •ì˜ë¡œìš´ ì¹´íƒ€ë¥´ì‹œìŠ¤', description: '...', traits: ['...', '...'], growth: '...', compatibility: '...' },
            'SEDO': { emoji: 'ğŸ’', nickname: 'ê¹Šì´ìˆëŠ” ì˜ì  íƒêµ¬ì', description: '...', traits: ['...', '...'], growth: '...', compatibility: '...' },
            'SEDF': { emoji: 'ğŸï¸', nickname: 'ê²½ê±´í•œ ì˜í˜¼ì˜ ìˆœë¡€ì', description: '...', traits: ['...', '...'], growth: '...', compatibility: '...' },
            'SEPO': { emoji: 'âš–ï¸', nickname: 'ë§ì”€ì˜ ì„¤ê³„ì', description: '...', traits: ['...', '...'], growth: '...', compatibility: '...' },
            'SEPF': { emoji: 'ğŸŒŒ', nickname: 'ì§€í˜œë¡œìš´ ìš°ì£¼ ì—¬í–‰ì', description: '...', traits: ['...', '...'], growth: '...', compatibility: '...' },
            'RWDO': { emoji: 'ğŸ¤', nickname: 'ì§„ì •í•œ ë™ì—­ì', description: '...', traits: ['...', '...'], growth: '...', compatibility: '...' },
            'RWDF': { emoji: 'ğŸŒ±', nickname: 'ë”°ëœ»í•œ ì˜í˜¼ì˜ ì •ì›ì‚¬', description: '...', traits: ['...', '...'], growth: '...', compatibility: '...' },
            'RWPO': { emoji: 'ğŸ°', nickname: 'í•˜ë‚˜ë‹˜ ë‚˜ë¼ì˜ ê±´ì¶•ê°€', description: '...', traits: ['...', '...'], growth: '...', compatibility: '...' },
            'RWPF': { emoji: 'ğŸ”‘', nickname: 'ì‚¬ë‘ì˜ ì—´ì‡ ì§€ê¸°', description: '...', traits: ['...', '...'], growth: '...', compatibility: '...' },
            'SWDO': { emoji: 'ğŸ“š', nickname: 'ì¡°ì§ì ì¸ ì„±ê²½í•™ì', description: '...', traits: ['...', '...'], growth: '...', compatibility: '...' },
            'SWDF': { emoji: 'ğŸ•Šï¸', nickname: 'ê³ ìš”í•œ ë¬µìƒê°€', description: '...', traits: ['...', '...'], growth: '...', compatibility: '...' },
            'SWPO': { emoji: 'ğŸ›¡ï¸', nickname: 'ì§„ë¦¬ì˜ ìˆ˜í˜¸ì', description: '...', traits: ['...', '...'], growth: '...', compatibility: '...' },
            'SWPF': { emoji: 'ğŸ’¡', nickname: 'ê¹¨ë‹¬ìŒì˜ ë“±ë¶ˆ', description: '...', traits: ['...', '...'], growth: '...', compatibility: '...' }
        };

        let currentQuestionIndex = 0;
        let answers = {};
        let score = { 'R': 0, 'S': 0, 'E': 0, 'W': 0, 'D': 0, 'P': 0, 'O': 0, 'F': 0 };

        // í™”ë©´ ì „í™˜ í•¨ìˆ˜
        function showScreen(screenId) {
            document.querySelectorAll('.container > div').forEach(div => div.style.display = 'none');
            document.getElementById(screenId).style.display = 'flex';
        }

        // í…ŒìŠ¤íŠ¸ ì‹œì‘
        function startTest() {
            currentQuestionIndex = 0;
            answers = {};
            score = { 'R': 0, 'S': 0, 'E': 0, 'W': 0, 'D': 0, 'P': 0, 'O': 0, 'F': 0 };
            showScreen('testScreen');
            renderQuestion();
        }

        // ì§ˆë¬¸ ë Œë”ë§
        function renderQuestion() {
            const question = questions[currentQuestionIndex];
            const qNumEl = document.getElementById('questionNumber');
            const qTextEl = document.getElementById('questionText');
            const optionsContainer = document.getElementById('optionsContainer');
            const progressBar = document.getElementById('progressBar');
            const nextBtn = document.getElementById('nextBtn');
            const prevBtn = document.getElementById('prevBtn');

            qNumEl.textContent = `Q${currentQuestionIndex + 1}/${questions.length}`;
            qTextEl.textContent = question.text;

            // ì„ íƒì§€ ë™ì  ìƒì„±
            optionsContainer.innerHTML = `
                <div class="option-text-wrapper left-text">
                    <span class="option-number">1.</span>
                    <span class="option-text">${question.leftText}</span>
                </div>
                <div class="circle-wrapper">
                    <label class="option-circle-container">
                        <input type="radio" name="option-${currentQuestionIndex}" value="1" class="left-option">
                        <div class="option-circle"></div>
                    </label>
                    <label class="option-circle-container">
                        <input type="radio" name="option-${currentQuestionIndex}" value="2" class="left-option">
                        <div class="option-circle"></div>
                    </label>
                    <label class="option-circle-container">
                        <input type="radio" name="option-${currentQuestionIndex}" value="3" class="right-option">
                        <div class="option-circle"></div>
                    </label>
                    <label class="option-circle-container">
                        <input type="radio" name="option-${currentQuestionIndex}" value="4" class="right-option">
                        <div class="option-circle"></div>
                    </label>
                </div>
                <div class="option-text-wrapper right-text">
                    <span class="option-number">2.</span>
                    <span class="option-text">${question.rightText}</span>
                </div>
            `;
            
            // ê¸°ì¡´ ë‹µë³€ì´ ìˆìœ¼ë©´ ì„ íƒ ìƒíƒœ ë³µì›
            if (answers[currentQuestionIndex]) {
                document.querySelector(`input[name="option-${currentQuestionIndex}"][value="${answers[currentQuestionIndex]}"]`).checked = true;
                nextBtn.disabled = false;
            } else {
                nextBtn.disabled = true;
            }

            // ë¼ë””ì˜¤ ë²„íŠ¼ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
            document.querySelectorAll(`input[name="option-${currentQuestionIndex}"]`).forEach(radio => {
                radio.addEventListener('change', () => {
                    nextBtn.disabled = false;
                    answers[currentQuestionIndex] = radio.value;
                });
            });

            // ì´ì „/ë‹¤ìŒ ë²„íŠ¼ ìƒíƒœ ì—…ë°ì´íŠ¸
            prevBtn.disabled = currentQuestionIndex === 0;
            const progress = (currentQuestionIndex / questions.length) * 100;
            progressBar.style.width = `${progress}%`;
        }

        // ë‹¤ìŒ ì§ˆë¬¸
        function nextQuestion() {
            if (currentQuestionIndex < questions.length - 1) {
                currentQuestionIndex++;
                renderQuestion();
            } else {
                calculateResult();
            }
        }

        // ì´ì „ ì§ˆë¬¸
        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                renderQuestion();
            }
        }

        // ê²°ê³¼ ê³„ì‚° ë° í‘œì‹œ
        function calculateResult() {
            showScreen('loading');

            // 1ì´ˆ ë’¤ ê²°ê³¼ í™”ë©´ í‘œì‹œ (ë¡œë”© íš¨ê³¼)
            setTimeout(() => {
                score = { 'R': 0, 'S': 0, 'E': 0, 'W': 0, 'D': 0, 'P': 0, 'O': 0, 'F': 0 };
                
                for (let i = 0; i < questions.length; i++) {
                    const question = questions[i];
                    const answer = parseInt(answers[i]);

                    // 1, 2ëŠ” leftType, 3, 4ëŠ” rightTypeì— ì ìˆ˜ ë¶€ì—¬
                    // í¬ê¸°ê°€ ì»¤ì§ì— ë”°ë¼ ì ìˆ˜ë¥¼ ë†’ê²Œ ë¶€ì—¬
                    if (answer === 1) score[question.leftType] += 4;
                    else if (answer === 2) score[question.leftType] += 2;
                    else if (answer === 3) score[question.rightType] += 2;
                    else if (answer === 4) score[question.rightType] += 4;
                }
                
                const typeF = score['R'] > score['S'] ? 'R' : 'S';
                const typeA = score['E'] > score['W'] ? 'E' : 'W';
                const typeT = score['D'] > score['P'] ? 'D' : 'P';
                const typeI = score['O'] > score['F'] ? 'O' : 'F';
                
                const finalType = typeF + typeA + typeT + typeI;
                displayResult(finalType);
            }, 1000);
        }

        // ê²°ê³¼ í™”ë©´ í‘œì‹œ
        function displayResult(finalType) {
            const resultData = resultTypes[finalType];
            if (!resultData) {
                // ê²°ê³¼ ë°ì´í„°ê°€ ì—†ì„ ê²½ìš° ì²˜ë¦¬
                document.getElementById('resultScreen').innerHTML = 'ê²°ê³¼ ë°ì´í„°ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.';
                showScreen('resultScreen');
                return;
            }

            document.getElementById('typeEmoji').textContent = resultData.emoji;
            document.getElementById('typeCode').textContent = finalType;
            document.getElementById('typeNickname').textContent = resultData.nickname;
            document.getElementById('typeDescription').textContent = resultData.description;
            document.getElementById('growthPoint').textContent = resultData.growth;
            document.getElementById('compatibility').textContent = resultData.compatibility;
            
            const traitsListEl = document.getElementById('traitsList');
            traitsListEl.innerHTML = resultData.traits.map(trait => `<li>${trait}</li>`).join('');

            // ìƒì„¸ ë¶„ì„ ì‹œê°í™”
            const scoreDetailsEl = document.getElementById('scoreDetails');
            const totalScoreR_S = score['R'] + score['S'];
            const totalScoreE_W = score['E'] + score['W'];
            const totalScoreD_P = score['D'] + score['P'];
            const totalScoreO_F = score['O'] + score['F'];

            scoreDetailsEl.innerHTML = `
                <div class="score-row">
                    <div class="score-labels">
                        <span class="score-label ${score['R'] > score['S'] ? 'active' : ''}">R (ê´€ê³„)</span>
                        <span class="score-label ${score['R'] < score['S'] ? 'active' : ''}">S (ë…ë¦½)</span>
                    </div>
                    <div class="score-bar-container">
                        <div class="score-bar-center"></div>
                        <div class="score-fill-left" style="width: ${totalScoreR_S > 0 ? (score['R'] / totalScoreR_S) * 100 : 50}%;"></div>
                        <div class="score-fill-right" style="width: ${totalScoreR_S > 0 ? (score['S'] / totalScoreR_S) * 100 : 50}%;"></div>
                    </div>
                </div>
                <div class="score-row">
                    <div class="score-labels">
                        <span class="score-label ${score['E'] > score['W'] ? 'active' : ''}">E (ê°ì •)</span>
                        <span class="score-label ${score['E'] < score['W'] ? 'active' : ''}">W (ì›ë¦¬)</span>
                    </div>
                    <div class="score-bar-container">
                        <div class="score-bar-center"></div>
                        <div class="score-fill-left" style="width: ${totalScoreE_W > 0 ? (score['E'] / totalScoreE_W) * 100 : 50}%;"></div>
                        <div class="score-fill-right" style="width: ${totalScoreE_W > 0 ? (score['W'] / totalScoreE_W) * 100 : 50}%;"></div>
                    </div>
                </div>
                <div class="score-row">
                    <div class="score-labels">
                        <span class="score-label ${score['D'] > score['P'] ? 'active' : ''}">D (ì¹œë°€)</span>
                        <span class="score-label ${score['D'] < score['P'] ? 'active' : ''}">P (ê¶Œìœ„)</span>
                    </div>
                    <div class="score-bar-container">
                        <div class="score-bar-center"></div>
                        <div class="score-fill-left" style="width: ${totalScoreD_P > 0 ? (score['D'] / totalScoreD_P) * 100 : 50}%;"></div>
                        <div class="score-fill-right" style="width: ${totalScoreD_P > 0 ? (score['P'] / totalScoreD_P) * 100 : 50}%;"></div>
                    </div>
                </div>
                <div class="score-row">
                    <div class="score-labels">
                        <span class="score-label ${score['O'] > score['F'] ? 'active' : ''}">O (ê³„íš)</span>
                        <span class="score-label ${score['O'] < score['F'] ? 'active' : ''}">F (ìœ ì—°)</span>
                    </div>
                    <div class="score-bar-container">
                        <div class="score-bar-center"></div>
                        <div class="score-fill-left" style="width: ${totalScoreO_F > 0 ? (score['O'] / totalScoreO_F) * 100 : 50}%;"></div>
                        <div class="score-fill-right" style="width: ${totalScoreO_F > 0 ? (score['F'] / totalScoreO_F) * 100 : 50}%;"></div>
                    </div>
                </div>
            `;

            showScreen('resultScreen');
        }

        // ê²°ê³¼ ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ í•¨ìˆ˜
        function downloadResultImage() {
            const resultScreen = document.getElementById('resultScreen');
            const loading = document.getElementById('loading');
            loading.style.display = 'flex';

            html2canvas(resultScreen, {
                scale: 2,
                backgroundColor: null,
                useCORS: true
            }).then(canvas => {
                const link = document.createElement('a');
                link.href = canvas.toDataURL('image/png');
                link.download = `FATI_${document.getElementById('typeCode').textContent}_ê²°ê³¼.png`;
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
                loading.style.display = 'none';
            }).catch(err => {
                console.error("ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ ì‹¤íŒ¨:", err);
                loading.style.display = 'none';
                alert('ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”.');
            });
        }
        
        // ë‹¤ì‹œ ê²€ì‚¬í•˜ê¸°
        function restartTest() {
            showScreen('startScreen');
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì‹œì‘ í™”ë©´ í‘œì‹œ
        window.onload = function() {
            showScreen('startScreen');
        };
    </script>
</body>
</html>